unit YOTM.Main;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, PanelExt, Direct2D, D2D1;

type
  TForm1 = class(TForm)
    DrawPanel: TDrawPanel;
    Timer1: TTimer;
    procedure Timer1Timer(Sender: TObject);
    procedure DrawPanelPaint(Sender: TObject);
    procedure DrawPanelMouseMove(Sender: TObject; Shift: TShiftState; X,
      Y: Integer);
  private
    FPanelMouse:TPoint;
  public
    { Public declarations }
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}

procedure TForm1.DrawPanelMouseMove(Sender: TObject; Shift: TShiftState; X, Y: Integer);
begin
 FPanelMouse:=Point(X, Y);
end;

procedure TForm1.DrawPanelPaint(Sender: TObject);
var CRect, tmpRect:TRect;

begin
 CRect:=DrawPanel.ClientRect;
 with TDirect2DCanvas.Create(DrawPanel.Canvas, DrawPanel.ClientRect) do
  begin
   BeginDraw;
   try
    Brush.Color:=clWhite;
    FillRect(CRect);
    //--------------------------------------
     tmpRect.Left:=50;
     tmpRect.Right:=CRect.Right - 50;
     tmpRect.Bottom:=CRect.Bottom - 50;
     tmpRect.Top:=tmpRect.Bottom - 15;
     Brush.Color:=clMaroon;
     Pen.Color:=Brush.Color;
     FillRect(tmpRect);

    Brush.Style:=bsClear;
    TextOut(tmpRect.Left - 30, tmpRect.Top - 20, '09:00');
    TextOut(tmpRect.Right, tmpRect.Top - 20, '18:00');


    TextOut(0, 0, Format('%d:%d', [FPanelMouse.X, FPanelMouse.Y]));
    //--------------------------------------
   finally
    EndDraw;
   end;
   Free;
  end;
end;

procedure TForm1.Timer1Timer(Sender: TObject);
begin
 DrawPanel.Repaint;
end;

end.
